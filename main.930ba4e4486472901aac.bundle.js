(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{285:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),Well_1=__importDefault(__webpack_require__(613)),WellPlate=props=>{const{plate:plate,wellSize:wellSize}=props,rowLabels=plate.rowLabels,columnLabels=plate.columnLabels,headerStyle={width:wellSize,textAlign:"center"},wellStyle={width:wellSize,height:wellSize,userSelect:"none"},rowStyle={display:"flex",alignItems:"center",height:wellSize},boxStyle={paddingBottom:4,paddingRight:4,borderWidth:1,borderStyle:"solid",borderColor:"black",width:wellSize*(plate.columns+1)+4+1},headerColumnLabels=columnLabels.map(columnLabel=>react_1.default.createElement("div",{key:columnLabel,style:headerStyle},columnLabel)),rows=rowLabels.map(rowLabel=>{const columns=columnLabels.map(columnLabel=>{const label=rowLabel+columnLabel;return react_1.default.createElement("div",{key:columnLabel,style:wellStyle},react_1.default.createElement(Well_1.default,{className:props.wellClassName&&props.wellClassName(label),style:props.wellStyle&&props.wellStyle(label),onClick:props.onClick,onEnter:props.onEnter,onLeave:props.onLeave,onMouseDown:props.onMouseDown,onMouseUp:props.onMouseUp,value:label,size:wellSize}))});return react_1.default.createElement("div",{key:rowLabel,style:rowStyle},react_1.default.createElement("div",{style:headerStyle},rowLabel),columns)});return react_1.default.createElement("div",{style:boxStyle},react_1.default.createElement("div",{style:rowStyle},react_1.default.createElement("div",{style:headerStyle}),headerColumnLabels),rows)};WellPlate.defaultProps={wellSize:40},exports.default=WellPlate;try{WellPlate.displayName="WellPlate",WellPlate.__docgenInfo={description:"",displayName:"WellPlate",props:{plate:{defaultValue:null,description:"",name:"plate",required:!0,type:{name:"WellPlate<any>"}},wellSize:{defaultValue:{value:"40"},description:"",name:"wellSize",required:!1,type:{name:"number"}},wellClassName:{defaultValue:null,description:"",name:"wellClassName",required:!1,type:{name:"(label: string) => string"}},wellStyle:{defaultValue:null,description:"",name:"wellStyle",required:!1,type:{name:"(label: any) => CSSProperties"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(well: string, e: any) => void"}},onEnter:{defaultValue:null,description:"",name:"onEnter",required:!1,type:{name:"(well: string, e: SyntheticEvent<Element, Event>) => void"}},onLeave:{defaultValue:null,description:"",name:"onLeave",required:!1,type:{name:"(well: string, e: SyntheticEvent<Element, Event>) => void"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"(well: string, e: any) => void"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"(well: string, e: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/WellPlate.tsx#WellPlate"]={docgenInfo:WellPlate.__docgenInfo,name:"WellPlate",path:"src/WellPlate.tsx#WellPlate"})}catch(__react_docgen_typescript_loader_error){}},291:function(module,exports,__webpack_require__){__webpack_require__(292),__webpack_require__(371),module.exports=__webpack_require__(372)},372:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(7),__webpack_require__(8),__webpack_require__(36);var _storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(178),req=__webpack_require__(435);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(202)(module))},435:function(module,exports,__webpack_require__){var map={"./index.stories.tsx":436};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=435},436:function(module,exports,__webpack_require__){"use strict";(function(module){var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(0)),well_plates_1=__webpack_require__(286),addon_info_1=__webpack_require__(437),index_1=__webpack_require__(612),react_2=__webpack_require__(178),wellPlate=new well_plates_1.WellPlate({rows:8,columns:12});function StateFullWellPicker(props){const{value:initialValue,...otherProps}=props,[value,setValue]=react_1.useState(initialValue);return react_1.default.createElement(index_1.WellPicker,Object.assign({value:value,onSelect:setValue},otherProps))}react_2.storiesOf("Well plate",module).addDecorator(addon_info_1.withInfo).add("Regular size",()=>react_1.default.createElement(index_1.WellPlate,{plate:wellPlate})).add("Large size",()=>react_1.default.createElement(index_1.WellPlate,{plate:wellPlate,wellSize:60})).add("Small size",()=>react_1.default.createElement(index_1.WellPlate,{plate:wellPlate,wellSize:30,wellStyle:()=>({fontSize:"x-small"})})).add("Custom styles",()=>react_1.default.createElement(index_1.WellPlate,{plate:wellPlate,wellSize:50,wellStyle:label=>{const factor=Math.round(wellPlate.getIndex(label)/(wellPlate.rows*wellPlate.columns)*120+135);return{backgroundColor:`rgb(${factor}, ${factor}, ${factor})`,borderColor:"green",borderWidth:2}}})),react_2.storiesOf("Well picker",module).addDecorator(addon_info_1.withInfo).add("Well picker",()=>react_1.default.createElement(StateFullWellPicker,{rows:8,columns:12,value:["D2"],disabled:["A5","C1"],style:{default:{borderColor:"black"},disabled:{backgroundColor:"gray",borderColor:"black"},booked:{borderColor:"orange"},selected:{backgroundColor:"green"}},className:{default:"",disabled:"",booked:"",selected:""}}))}).call(this,__webpack_require__(90)(module))},440:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":235,"./nestedObjectAssign.js":235};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=440},612:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const WellPlate_1=__importDefault(__webpack_require__(285));exports.WellPlate=WellPlate_1.default;const WellPicker_1=__importDefault(__webpack_require__(615));exports.WellPicker=WellPicker_1.default;try{src.displayName="src",src.__docgenInfo={description:"",displayName:"src",props:{rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"any"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"any"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"any"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.ts#src"]={docgenInfo:src.__docgenInfo,name:"src",path:"src/index.ts#src"})}catch(__react_docgen_typescript_loader_error){}},613:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),classnames_1=__importDefault(__webpack_require__(614)),wellStyle={borderRadius:"50%",borderWidth:1,borderStyle:"solid",display:"flex",alignItems:"center",textAlign:"center"},Well=props=>{const{value:value,size:size,style:customStyles}=props,wellMargin=Math.round(size/12),cssClasses={"cursor-pointer":!!props.onClick},style={...wellStyle,width:size-2*wellMargin,height:size-2*wellMargin,margin:wellMargin,...customStyles};return react_1.default.createElement("div",{onClick:props.onClick&&(e=>props.onClick(props.value,e)),onMouseEnter:props.onEnter&&(e=>props.onEnter(props.value,e)),onMouseLeave:props.onLeave&&(e=>props.onLeave(props.value,e)),onMouseUp:props.onMouseUp&&(e=>props.onMouseUp(props.value,e)),onMouseDown:props.onMouseDown&&(e=>props.onMouseDown(props.value,e)),className:classnames_1.default(props.className,cssClasses),style:style},react_1.default.createElement("div",{style:{width:"100%"}},value))};exports.default=Well;try{Well.displayName="Well",Well.__docgenInfo={description:"",displayName:"Well",props:{size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(label: string, e: any) => void"}},onEnter:{defaultValue:null,description:"",name:"onEnter",required:!1,type:{name:"(label: string, e: SyntheticEvent<Element, Event>) => void"}},onLeave:{defaultValue:null,description:"",name:"onLeave",required:!1,type:{name:"(label: string, e: SyntheticEvent<Element, Event>) => void"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"(label: string, e: any) => void"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"(label: string, e: any) => void"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Well.tsx#Well"]={docgenInfo:Well.__docgenInfo,name:"Well",path:"src/Well.tsx#Well"})}catch(__react_docgen_typescript_loader_error){}},615:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(0)),well_plates_1=__webpack_require__(286),WellPlate_1=__importDefault(__webpack_require__(285));function WellPicker({rows:rows,columns:columns,value:value,disabled:disabled,onSelect:onSelect,style:style,className:className}){const wellPlate=react_1.useMemo(()=>new well_plates_1.WellPlate({rows:rows,columns:columns}),[rows,columns]),valueSet=react_1.useMemo(()=>new Set(value),[value]),disabledSet=react_1.useMemo(()=>new Set(disabled),[disabled]),[startWell,setStartWell]=react_1.useState(null),[bookedSet,setBooked]=react_1.useState(new Set),selectRange=react_1.useCallback((start,end)=>{const indexStart=wellPlate.getIndex(start),size=wellPlate.getIndex(end)-indexStart,range=wellPlate.getPositionCodeRange(size<0?end:start,size<0?1-size:size+1);setBooked(new Set(range))},[]),bookSelection=react_1.useCallback(toggle=>{if(0===bookedSet.size)return;const newValue=[];for(let bookedEl of bookedSet)disabledSet.has(bookedEl)||toggle&&valueSet.has(bookedEl)||newValue.push(bookedEl);if(toggle)for(let selected of valueSet)bookedSet.has(selected)||newValue.push(selected);onSelect(newValue)},[disabled,bookedSet,onSelect]),toggleWell=react_1.useCallback(well=>{if(valueSet.has(well)){const index=value.findIndex(val=>val===well),newValue=Array.from(valueSet);newValue.splice(index,1),onSelect(newValue)}else onSelect([...valueSet,well])},[valueSet]),classNameCallback=react_1.useCallback(label=>valueSet.has(label)?className.selected:disabledSet.has(label)?className.disabled:bookedSet.has(label)?className.booked:className.default,[valueSet,bookedSet,disabledSet,className]),styleCallback=react_1.useCallback(label=>disabledSet.has(label)?style.disabled:bookedSet.has(label)?style.booked:valueSet.has(label)?style.selected:style.default,[valueSet,bookedSet,disabledSet,style]),clear=react_1.useCallback(event=>{event.shiftKey||event.ctrlKey?bookSelection(!0):bookSelection(!1),setStartWell(null),setBooked(new Set)},[bookSelection]);return react_1.useEffect(()=>(window.addEventListener("mouseup",clear),window.addEventListener("mouseleave",clear),()=>{window.removeEventListener("mouseup",clear),window.removeEventListener("mouseleave",clear)}),[clear]),react_1.default.createElement(WellPlate_1.default,{plate:wellPlate,wellStyle:styleCallback,wellClassName:classNameCallback,onEnter:well=>{startWell&&selectRange(startWell,well)},onLeave:well=>{startWell===well&&selectRange(well,well)},onMouseDown:(well,event)=>{setStartWell(well),event.shiftKey||event.ctrlKey||onSelect([])},onClick:(well,e)=>{toggleWell(well),(e.shiftKey||e.ctrlKey)&&e.stopPropagation()}})}exports.default=WellPicker;try{WellPicker.displayName="WellPicker",WellPicker.__docgenInfo={description:"",displayName:"WellPicker",props:{rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"any"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"any"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"any"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/WellPicker.tsx#WellPicker"]={docgenInfo:WellPicker.__docgenInfo,name:"WellPicker",path:"src/WellPicker.tsx#WellPicker"})}catch(__react_docgen_typescript_loader_error){}}},[[291,1,2]]]);
//# sourceMappingURL=main.930ba4e4486472901aac.bundle.js.map